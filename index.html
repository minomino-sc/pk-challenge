<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PKãƒãƒ£ãƒ¬ãƒ³ã‚¸ï½œç®•è°·SC</title>

<style>
:root {
  --mino-main: #003366;
  --mino-accent: #ffcc00;
}

body {
  font-family: sans-serif;
  text-align: center;
  margin: 0;
  padding: 20px;
  background: #eef2f5;
}

h1 {
  margin-bottom: 10px;
}

/* ã‚²ãƒ¼ãƒ ã‚¨ãƒªã‚¢ï¼ˆèŠç”Ÿï¼‰ */
#game-area {
  position: relative;
  width: 90%;
  max-width: 320px;
  height: 220px;
  margin: 20px auto;
  border: 2px solid #222;
  overflow: hidden;
  background:
    repeating-linear-gradient(
      90deg,
      #2e8b57,
      #2e8b57 10px,
      #3cb371 10px,
      #3cb371 20px
    );
}

/* ã‚´ãƒ¼ãƒ« */
#goal {
  position: absolute;
  inset: 0;
}

.goal-post {
  position: absolute;
  background: white;
}

.goal-left {
  width: 6px;
  height: 120px;
  left: 20px;
  bottom: 20px;
}

.goal-right {
  width: 6px;
  height: 120px;
  right: 20px;
  bottom: 20px;
}

.goal-bar {
  height: 6px;
  left: 20px;
  right: 20px;
  bottom: 140px;
}

/* ã‚­ãƒ¼ãƒ‘ãƒ¼ */
#keeper {
  position: absolute;
  width: 40px;
  height: 40px;
  background: var(--mino-main);
  border-radius: 50%;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  transition: left 0.4s ease;
}

/* ãƒœãƒ¼ãƒ« */
#ball {
  position: absolute;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  transition: bottom 0.4s ease, left 0.4s ease;
}

/* æ“ä½œ */
#controls button {
  padding: 10px 18px;
  margin: 8px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  background: var(--mino-accent);
}

#score, #result {
  margin-top: 10px;
  font-size: 16px;
}

#resetBtn {
  display: none;
  margin-top: 15px;
  padding: 10px 20px;
  font-size: 16px;
}
</style>
</head>

<body>

<h1>âš½ PKãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆç®•è°·SCï¼‰</h1>

<div id="game-area">
  <div id="goal">
    <div class="goal-post goal-left"></div>
    <div class="goal-post goal-right"></div>
    <div class="goal-post goal-bar"></div>

    <div id="keeper"></div>
    <div id="ball"></div>
  </div>
</div>

<div id="controls">
  <button onclick="shoot('å·¦')">å·¦</button>
  <button onclick="shoot('ä¸­å¤®')">ä¸­å¤®</button>
  <button onclick="shoot('å³')">å³</button>
</div>

<p id="score">ã‚ãªãŸ: 0 | CPU: 0</p>
<p id="result"></p>
<button id="resetBtn" onclick="resetGame()">å†æˆ¦</button>

<script>
let playerScore = 0;
let cpuScore = 0;
let kicks = 0;
const maxKicks = 10;
let suddenDeath = false;

const keeper = document.getElementById('keeper');
const ball = document.getElementById('ball');
const scoreText = document.getElementById('score');
const resultText = document.getElementById('result');
const resetBtn = document.getElementById('resetBtn');

function shoot(direction) {
  if (resetBtn.style.display === 'inline-block') return;

  kicks++;

  const cpu = ['å·¦','ä¸­å¤®','å³'][Math.floor(Math.random()*3)];

  moveKeeper(cpu);
  moveBall(direction);

  if (direction !== cpu) {
    playerScore++;
    resultText.innerText = 'GOAL!! ğŸ‰';
  } else {
    cpuScore++;
    resultText.innerText = 'ã‚»ãƒ¼ãƒ–â€¦ ğŸ˜­';
  }

  scoreText.innerText = `ã‚ãªãŸ: ${playerScore} | CPU: ${cpuScore}`;

  setTimeout(resetPositions, 600);

  if (!suddenDeath && kicks === maxKicks) {
    if (playerScore !== cpuScore) {
      finishGame();
    } else {
      suddenDeath = true;
      resultText.innerText = 'ã‚µãƒ‰ãƒ³ãƒ‡ã‚¹çªå…¥ï¼ğŸ”¥';
    }
  }

  if (suddenDeath && kicks > maxKicks) {
    if (playerScore !== cpuScore) {
      finishGame();
    }
  }
}

function moveKeeper(dir) {
  if (dir === 'å·¦') keeper.style.left = '30%';
  if (dir === 'ä¸­å¤®') keeper.style.left = '50%';
  if (dir === 'å³') keeper.style.left = '70%';
}

function moveBall(dir) {
  ball.style.bottom = '140px';
  if (dir === 'å·¦') ball.style.left = '30%';
  if (dir === 'ä¸­å¤®') ball.style.left = '50%';
  if (dir === 'å³') ball.style.left = '70%';
}

function resetPositions() {
  keeper.style.left = '50%';
  ball.style.left = '50%';
  ball.style.bottom = '20px';
}

function finishGame() {
  if (playerScore > cpuScore) {
    resultText.innerText += '\nå‹åˆ©ï¼ï¼ğŸ‰';
  } else {
    resultText.innerText += '\næ•—åŒ—â€¦ğŸ˜¢';
  }
  resetBtn.style.display = 'inline-block';
}

function resetGame() {
  playerScore = 0;
  cpuScore = 0;
  kicks = 0;
  suddenDeath = false;
  scoreText.innerText = 'ã‚ãªãŸ: 0 | CPU: 0';
  resultText.innerText = '';
  resetBtn.style.display = 'none';
}
</script>

</body>
</html>
