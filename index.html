<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>PK GAME - Minotani SC</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  touch-action: manipulation;
}

/* ===== ゲーム画面 ===== */
#game {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

/* ===== 背景 ===== */
#stadium {
  position: absolute;
  width: 100%;
  height: 100%;
  background:
    linear-gradient(to top, rgba(0,0,0,0.6), transparent 40%),
    linear-gradient(#1e7f32 60%, #145a23);
}

/* 芝ライン */
#stadium::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 40%;
  background: repeating-linear-gradient(
    90deg,
    rgba(255,255,255,0.05) 0px,
    rgba(255,255,255,0.05) 2px,
    transparent 2px,
    transparent 20px
  );
}

/* ===== ゴール ===== */
#goal {
  position: absolute;
  top: 8%;
  left: 50%;
  width: 80%;
  height: 35%;
  transform: translateX(-50%);
  border: 4px solid #fff;
  box-sizing: border-box;
}

/* ===== キーパー ===== */
#keeper {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 60px;
  height: 90px;
  transform: translateX(-50%);
  transition: all 0.4s ease-out;
}

/* 人型SVG */
#keeper svg {
  width: 100%;
  height: 100%;
}

/* ===== ボール ===== */
#ball {
  position: absolute;
  bottom: 10%;
  left: 50%;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle at 30% 30%, #fff, #ccc);
  border-radius: 50%;
  transform: translateX(-50%);
  transition: all 0.6s cubic-bezier(.2,.8,.2,1);
}

/* ===== UI ===== */
#ui {
  position: absolute;
  bottom: 5%;
  width: 100%;
  text-align: center;
  color: #fff;
}

#hint {
  opacity: 0.8;
  font-size: 14px;
}
</style>
</head>

<body>

<div id="game">
  <div id="stadium"></div>

  <div id="goal">
    <div id="keeper">
      <!-- 人型キーパーSVG -->
      <svg viewBox="0 0 60 90">
        <circle cx="30" cy="15" r="10" fill="#222"/>
        <rect x="20" y="25" width="20" height="30" fill="#0047ab"/>
        <rect x="5" y="30" width="15" height="8" fill="#0047ab"/>
        <rect x="40" y="30" width="15" height="8" fill="#0047ab"/>
        <rect x="22" y="55" width="6" height="25" fill="#222"/>
        <rect x="32" y="55" width="6" height="25" fill="#222"/>
      </svg>
    </div>
  </div>

  <div id="ball"></div>

  <div id="ui">
    <div id="hint">画面をタップしてシュート</div>
  </div>
</div>

<script>
const ball = document.getElementById("ball");
const keeper = document.getElementById("keeper");

let shooting = false;

document.body.addEventListener("touchstart", shoot);
document.body.addEventListener("click", shoot);

function shoot() {
  if (shooting) return;
  shooting = true;

  // シュート先ランダム
  const targetX = 20 + Math.random() * 60; // %
  const targetY = 10 + Math.random() * 15; // %

  // 速度ランダム
  const speed = 400 + Math.random() * 300;
  ball.style.transitionDuration = speed + "ms";

  // カーブ表現
  ball.style.left = targetX + "%";
  ball.style.bottom = "65%";

  // キーパー動き
  const keeperX = targetX + (Math.random() * 20 - 10);
  keeper.style.left = keeperX + "%";
  keeper.style.transform = "translateX(-50%) rotate(" + (keeperX > 50 ? 20 : -20) + "deg)";

  setTimeout(reset, 1200);
}

function reset() {
  ball.style.transitionDuration = "0ms";
  ball.style.left = "50%";
  ball.style.bottom = "10%";

  keeper.style.left = "50%";
  keeper.style.transform = "translateX(-50%)";

  shooting = false;
}
</script>

</body>
</html>
