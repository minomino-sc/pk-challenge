<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PK„ÉÅ„É£„É¨„É≥„Ç∏</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  text-align: center;
  margin: 20px;
}

#game-area {
  position: relative;
  width: 90%;
  max-width: 320px;
  height: 200px;
  margin: 20px auto;
  border: 2px solid #333;
  background: #cce5ff;
  overflow: hidden;
}

#goal {
  position: relative;
  width: 100%;
  height: 100%;
}

#keeper {
  position: absolute;
  width: 40px;
  height: 40px;
  background: red;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 50%;
  transition: left 0.5s ease;
}

#ball {
  position: absolute;
  width: 20px;
  height: 20px;
  background: yellow;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 50%;
}

button {
  padding: 14px 22px;
  margin: 8px;
  font-size: 18px;
}

#resetBtn {
  display: none;
  margin-top: 15px;
}
</style>
</head>

<body>
<h1>‚öΩ PK„ÉÅ„É£„É¨„É≥„Ç∏</h1>

<div id="game-area">
  <div id="goal">
    <div id="keeper"></div>
    <div id="ball"></div>
  </div>
</div>

<div>
  <button onclick="shoot('Â∑¶')">Â∑¶</button>
  <button onclick="shoot('‰∏≠Â§Æ')">‰∏≠Â§Æ</button>
  <button onclick="shoot('Âè≥')">Âè≥</button>
</div>

<p id="score">„ÅÇ„Å™„Åü: 0 | CPU: 0</p>
<p id="result"></p>
<button id="resetBtn" onclick="resetGame()">ÂÜçÊà¶</button>

<script>
let playerScore = 0;
let cpuScore = 0;
let kicks = 0;
const maxKicks = 5;

const ball = document.getElementById('ball');
const keeper = document.getElementById('keeper');
const scoreText = document.getElementById('score');
const resultText = document.getElementById('result');
const resetBtn = document.getElementById('resetBtn');

const keeperPos = { Â∑¶: 10, ‰∏≠Â§Æ: 50, Âè≥: 90 };
const goalChance = { Â∑¶: 0.7, ‰∏≠Â§Æ: 0.8, Âè≥: 0.6 };

function shoot(direction) {
  if (kicks >= maxKicks) return;

  const choices = ['Â∑¶','‰∏≠Â§Æ','Âè≥'];
  const keeperChoice = choices[Math.floor(Math.random() * 3)];

  keeper.style.left = keeperPos[keeperChoice] + '%';

  ball.style.transition = 'bottom 0.8s ease, left 0.8s ease';
  ball.style.left = keeperPos[direction] + '%';
  ball.style.bottom = '100%';

  setTimeout(() => {
    if (keeperChoice === direction && Math.random() > goalChance[direction]) {
      cpuScore++;
      resultText.innerText = 'Â§±Êïó‚Ä¶„Ç≠„Éº„Éë„Éº„Å´Ê≠¢„ÇÅ„Çâ„Çå„ÅüÔºÅ';
    } else {
      playerScore++;
      resultText.innerText = '„Ç¥„Éº„É´ÔºÅÔºÅüéâ';
    }

    scoreText.innerText = `„ÅÇ„Å™„Åü: ${playerScore} | CPU: ${cpuScore}`;
    kicks++;

    ball.style.transition = 'none';
    ball.style.bottom = '0';
    ball.style.left = '50%';

    if (kicks === maxKicks) {
      if (playerScore > cpuScore) resultText.innerText += '\n„ÅÇ„Å™„Åü„ÅÆÂãù„Å°ÔºÅ';
      else if (playerScore < cpuScore) resultText.innerText += '\n„ÅÇ„Å™„Åü„ÅÆË≤†„Åë‚Ä¶';
      else resultText.innerText += '\nÂºï„ÅçÂàÜ„ÅëÔºÅ';
      resetBtn.style.display = 'inline-block';
    }
  }, 800);
}

function resetGame() {
  playerScore = 0;
  cpuScore = 0;
  kicks = 0;
  scoreText.innerText = '„ÅÇ„Å™„Åü: 0 | CPU: 0';
  resultText.innerText = '';
  resetBtn.style.display = 'none';
}
</script>
</body>
</html>
