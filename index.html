<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PK Challengeï½œç®•è°·SC</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  text-align:center;
  background:black;
  color:white;
}

#game{
  position:relative;
  width:100%;
  max-width:390px;
  aspect-ratio:16/9;
  margin:auto;
  overflow:hidden;
}

/* ğŸ¥ èƒŒæ™¯å‹•ç”» */
#bgVideo{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ã‚´ãƒ¼ãƒ«å‰ãƒ¬ã‚¤ãƒ¤ãƒ¼ */
#field{
  position:absolute;
  inset:0;
}

/* ã‚­ãƒ¼ãƒ‘ãƒ¼ï¼ˆé€£ç•ªï¼‰ */
#keeper{
  position:absolute;
  bottom:12%;
  left:50%;
  width:18%;
  transform:translateX(-50%);
}

/* ãƒœãƒ¼ãƒ« */
#ball{
  position:absolute;
  width:18px;
  height:18px;
  background:white;
  border-radius:50%;
  left:50%;
  bottom:10%;
}

/* å½± */
#shadow{
  position:absolute;
  width:20px;
  height:6px;
  background:black;
  opacity:.3;
  border-radius:50%;
  left:50%;
  bottom:10%;
}

button{
  margin:10px;
  padding:10px 18px;
  font-size:16px;
}
</style>
</head>

<body>

<h2>âš½ PK Challengeï¼ˆç®•è°·SCï¼‰</h2>

<div id="game">
  <!-- å®Ÿå†™é¢¨å‹•ç”»ï¼ˆä»®ï¼‰ -->
  <video id="bgVideo" autoplay muted loop playsinline>
    <source src="video.mp4" type="video/mp4">
  </video>

  <div id="field">
    <img id="keeper" src="keeper_center.png">
    <div id="shadow"></div>
    <div id="ball"></div>
  </div>
</div>

<div>
  <button onclick="shoot('L')">å·¦</button>
  <button onclick="shoot('C')">ä¸­å¤®</button>
  <button onclick="shoot('R')">å³</button>
</div>

<script>
const ball = document.getElementById('ball');
const shadow = document.getElementById('shadow');
const keeper = document.getElementById('keeper');

let anim;

function shoot(dir){
  cancelAnimationFrame(anim);

  const startX = 50;
  const endX = dir==='L'?30:dir==='R'?70:50;
  let t = 0;

  // ã‚­ãƒ¼ãƒ‘ãƒ¼ç”»åƒåˆ‡æ›¿ï¼ˆä»®ï¼‰
  keeper.src =
    dir==='L'?'keeper_left.png':
    dir==='R'?'keeper_right.png':
    'keeper_center.png';

  function frame(){
    t += 0.03;
    const height = Math.sin(Math.PI * t) * 40;

    const x = startX + (endX - startX) * t;
    ball.style.left = x + '%';
    ball.style.bottom = (10 + height) + '%';

    shadow.style.left = x + '%';
    shadow.style.opacity = (1 - t) * .3;

    if(t < 1){
      anim = requestAnimationFrame(frame);
    }
  }
  frame();
}
</script>

</body>
</html>
